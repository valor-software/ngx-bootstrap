{"version":3,"sources":["../../../.tmp/chronos/utils/date-setters.ts"],"names":[],"mappings":"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","file":"date-setters.js","sourceRoot":"","sourcesContent":["import { TimeUnit } from '../types';\r\nimport { daysInMonth } from '../units/month';\r\nimport { isNumber } from './type-checks';\r\nimport { getDate, getFullYear, getMonth } from './date-getters';\r\nimport { isLeapYear } from '../units/year';\r\nimport { createDate } from '../create/date-from-array';\r\n\r\nconst defaultTimeUnit: TimeUnit = {\r\n  year: 0,\r\n  month: 0,\r\n  day: 0,\r\n  hour: 0,\r\n  minute: 0,\r\n  seconds: 0\r\n};\r\n\r\nexport function shiftDate(date: Date, unit: TimeUnit): Date {\r\n  const _unit = Object.assign({}, defaultTimeUnit, unit);\r\n  const year = date.getFullYear() + (_unit.year || 0);\r\n  const month = date.getMonth() + (_unit.month || 0);\r\n  let day = date.getDate() + (_unit.day || 0);\r\n  if (_unit.month && !_unit.day) {\r\n    day = Math.min(day, daysInMonth(year, month));\r\n  }\r\n\r\n  return createDate(\r\n    year,\r\n    month,\r\n    day,\r\n    date.getHours() + (_unit.hour || 0),\r\n    date.getMinutes() + (_unit.minute || 0),\r\n    date.getSeconds() + (_unit.seconds || 0)\r\n  );\r\n}\r\n\r\nexport function setFullDate(date: Date, unit: TimeUnit): Date {\r\n  return createDate(\r\n    getNum(date.getFullYear(), unit.year),\r\n    getNum(date.getMonth(), unit.month),\r\n    getNum(date.getDate(), unit.day),\r\n    getNum(date.getHours(), unit.hour),\r\n    getNum(date.getMinutes(), unit.minute),\r\n    getNum(date.getSeconds(), unit.seconds),\r\n    getNum(date.getMilliseconds(), unit.milliseconds)\r\n  );\r\n}\r\n\r\nfunction getNum(def: number, num?: number): number {\r\n  return isNumber(num) ? num : def;\r\n}\r\n\r\nexport function setFullYear(date: Date, value: number, isUTC?: boolean): Date {\r\n  const _month = getMonth(date, isUTC);\r\n  const _date = getDate(date, isUTC);\r\n  const _year = getFullYear(date, isUTC);\r\n  if (isLeapYear(_year) && _month === 1 && _date === 29) {\r\n    const _daysInMonth = daysInMonth(value, _month);\r\n    isUTC ? date.setUTCFullYear(value, _month, _daysInMonth) : date.setFullYear(value, _month, _daysInMonth);\r\n  }\r\n\r\n  isUTC ? date.setUTCFullYear(value) : date.setFullYear(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setMonth(date: Date, value: number, isUTC?: boolean): Date {\r\n  const dayOfMonth = Math.min(getDate(date), daysInMonth(getFullYear(date), value));\r\n  isUTC ? date.setUTCMonth(value, dayOfMonth) : date.setMonth(value, dayOfMonth);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setDay(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCDate(value) : date.setDate(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setHours(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCHours(value) : date.setHours(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setMinutes(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCMinutes(value) : date.setMinutes(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setSeconds(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCSeconds(value) : date.setSeconds(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setMilliseconds(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCMilliseconds(value) : date.setMilliseconds(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setDate(date: Date, value: number, isUTC?: boolean): Date {\r\n  isUTC ? date.setUTCDate(value) : date.setDate(value);\r\n\r\n  return date;\r\n}\r\n\r\nexport function setTime(date: Date, value: number): Date {\r\n  date.setTime(value);\r\n\r\n  return date;\r\n}\r\n"]}